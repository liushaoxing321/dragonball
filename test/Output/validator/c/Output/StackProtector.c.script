set -o pipefail;{ cc -fplugin=/data/project/xiangzhai/dragonegg/dragonegg.so -fplugin-arg-dragonegg-emit-ir -S -o - /data/project/xiangzhai/dragonegg/test/validator/c/StackProtector.c -fstack-protector --param ssp-buffer-size=1 | FileCheck --check-prefix=SP /data/project/xiangzhai/dragonegg/test/validator/c/StackProtector.c; } &&
{ cc -fplugin=/data/project/xiangzhai/dragonegg/dragonegg.so -fplugin-arg-dragonegg-emit-ir -S -o - /data/project/xiangzhai/dragonegg/test/validator/c/StackProtector.c -fno-stack-protector | FileCheck --check-prefix=NP /data/project/xiangzhai/dragonegg/test/validator/c/StackProtector.c; }
